doctype html
html(lang="en")
  head
    title 3d music
    link(rel="stylesheet" href="assets/css/app.css")

  body
    #title.info
      | 3DMUSIC &nbsp;-&nbsp; V:Mixer &nbsp; M:Mute
      br
      | Press 1-5 to mute/unmute tracks

    #version.info

    #container

    #mixer
      #track1.track(data-track="1")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track2.track(data-track="2")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track3.track(data-track="3")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track4.track(data-track="4")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track5.track(data-track="5")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track6.track(data-track="6")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track7.track(data-track="7")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track8.track(data-track="8")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track9.track(data-track="9")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track10.track(data-track="alt+0")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track11.track(data-track="alt+1")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track12.track(data-track="alt+2")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track13.track(data-track="alt+3")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track14.track(data-track="alt+4")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track15.track(data-track="alt+5")
        .levelMeter
          .bar x
        .volume
          .bar x
      #track16.track(data-track="alt+6")
        .levelMeter
          .bar x
        .volume
          .bar x
      #master.track
        .levelMeter
          .bar x
        .volume
          .bar x

    //- Custom Shader Code
    script#vertexShader(type="x-shader/x-vertex").
      uniform vec3 viewVector;
      uniform float c;
      uniform float p;
      varying float intensity;
      void main()
      {
          vec3 vNormal = normalize( normalMatrix * normal );
        vec3 vNormel = normalize( normalMatrix * viewVector );
        intensity = pow( c - dot(vNormal, vNormel), p );

          gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
      }

    //- fragment shader a.k.a. pixel shader
    script#fragmentShader(type="x-shader/x-vertex").
      uniform vec3 glowColor;
      varying float intensity;
      void main()
      {
        vec3 glow = glowColor * intensity;
          gl_FragColor = vec4( glow, 1.0 );
      }

    script(src="assets/js/app.js")
